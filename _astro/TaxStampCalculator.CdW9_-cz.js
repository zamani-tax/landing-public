import{j as a}from"./jsx-runtime.D_zvdyIk.js";import{r as u}from"./index.DiEladB3.js";const d=[{upTo:4e8,ratePct:5},{upTo:12e8,ratePct:4},{upTo:1/0,ratePct:3}],h=5,f=t=>new Intl.NumberFormat("fa-IR").format(Math.round(t||0)),p=t=>t.replace(/[\u06F0-\u06F9]/g,s=>String(s.charCodeAt(0)-1776));function N(t){const s=d[0].upTo,o=d[1].upTo,i=Math.max(0,Math.min(t,s)),l=Math.max(0,Math.min(t-s,o-s)),n=Math.max(0,t-o),e=Math.floor(i*5/100),r=Math.floor(l*4/100),c=Math.floor(n*3/100),m=e+r+c,x=Math.floor(m*h/100);return{A:i,B:l,C:n,feeA:e,feeB:r,feeC:c,totalFee:m,stamp:x}}function M(){const[t,s]=u.useState(""),o=u.useMemo(()=>{const e=p(t).replace(/[^\d]/g,"");if(e==="")return 0;const r=Number(e);return!Number.isFinite(r)||r<0||r>Number.MAX_SAFE_INTEGER?NaN:Math.floor(r)},[t]),i=u.useMemo(()=>!Number.isFinite(o)||o<=0?{stamp:0}:N(o),[o]),l=e=>{if(e.trim()==="")return s("");const r=p(e).replace(/[^\d]/g,"");if(r==="")return s("");const c=Number(r);Number.isFinite(c)&&s(f(c))},n="rounded-2xl border border-[#D1D2D4]/40 bg-white/60 dark:bg-[#2F3859]/10 shadow-sm p-4 md:p-5";return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-stretch",children:[a.jsxs("div",{className:n+" flex flex-col justify-center",children:[a.jsx("label",{htmlFor:"amount",className:"text-sm opacity-70 mb-2",children:"مبلغ مورد اعتراض (ریال)"}),a.jsx("input",{id:"amount",inputMode:"numeric",autoComplete:"off",placeholder:"مثلا ۵,۰۰۰,۰۰۰,۰۰۰",value:t,onChange:e=>l(e.target.value),"aria-invalid":Number.isNaN(o),className:"w-full rounded-xl border px-4 py-3 focus:outline-none focus:ring-2 focus:ring-[#172778]"})]}),a.jsxs("div",{className:n+" flex flex-col justify-center text-right",children:[a.jsx("div",{className:"text-sm opacity-70 mb-2",children:"حق تمبر"}),a.jsxs("div",{className:"text-2xl font-bold leading-tight",children:[f(i?.stamp??0)," ",a.jsx("span",{className:"text-sm",children:"ریال"})]})]})]})}export{M as default};
