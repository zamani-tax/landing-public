import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as o}from"./index.RH_Wq4ov.js";const w="۰۱۲۳۴۵۶۷۸۹",y="٠١٢٣٤٥٦٧٨٩",a=d=>(d||"").replace(/[۰-۹]/g,l=>String(w.indexOf(l))).replace(/[٠-٩]/g,l=>String(y.indexOf(l))).replace(/[,\u066C\u060C\s]/g,""),x=d=>{if(!d)return"";const l=Number(d);return isFinite(l)?new Intl.NumberFormat("fa-IR").format(l):""},i=d=>{const l=Number(d||"0");return isNaN(l)?0:l};function M(){const[d,l]=o.useState("10"),[c,f]=o.useState(""),[m,h]=o.useState(""),[p,b]=o.useState(""),[u,g]=o.useState("sale"),{sale:N,vat:j,total:v}=o.useMemo(()=>{const n=Math.max(0,Number(a(d).replace(/[^\d.]/g,"")))/100;let t=0,r=0,s=0;return n===0?(u==="sale"?(t=i(a(c)),r=0,s=t):u==="vat"?(t=i(a(m)),r=0,s=t):(s=i(a(p)),t=s,r=0),{sale:t,vat:r,total:s}):(u==="sale"?(t=i(a(c)),r=t*n,s=t+r):u==="vat"?(r=i(a(m)),t=r/n,s=t+r):(s=i(a(p)),t=s/(1+n),r=s-t),t=isFinite(t)?t:0,r=isFinite(r)?r:0,s=isFinite(s)?s:0,{sale:t,vat:r,total:s})},[u,d,c,m,p]);return e.jsxs("div",{className:"bg-card text-foreground border rounded-2xl shadow-sm",children:[e.jsx("div",{className:"rounded-t-2xl p-5 md:p-6 bg-card flex items-center justify-between gap-4 md:gap-6",dir:"rtl",children:e.jsxs("label",{className:"flex items-center gap-2 shrink-0",children:[e.jsx("span",{className:"text-foreground",children:"نرخ ارزش افزوده را اینجا وارد کنید:"}),e.jsx("input",{dir:"ltr",inputMode:"numeric",pattern:"\\d*",className:"w-32 md:w-40 px-3 py-2 rounded-lg border bg-input-background text-foreground",placeholder:"۹",value:x(a(d).replace(/[^\d.]/g,"")),onChange:n=>l(a(n.target.value))})]})}),e.jsxs("div",{className:"p-5 md:p-6",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-center border rounded-xl overflow-hidden",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-muted text-foreground",children:[e.jsx("th",{className:"py-3 px-2",children:"مبلغ فروش"}),e.jsx("th",{className:"py-3 px-2",children:"مبلغ ارزش افزوده"}),e.jsx("th",{className:"py-3 px-2",children:"جمع کل (فروش + ارزش افزوده)"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"bg-popover",children:[e.jsx("td",{className:"py-3 px-2",children:e.jsx("input",{dir:"ltr",inputMode:"numeric",pattern:"\\d*",className:"number-input w-full max-w-60 mx-auto px-3 py-2 rounded-lg border bg-input-background text-foreground",placeholder:"۱۰۰٬۰۰۰٬۰۰۰",value:x(a(c)),onChange:n=>{f(a(n.target.value)),g("sale")}})}),e.jsx("td",{className:"py-3 px-2",children:e.jsx("input",{dir:"ltr",inputMode:"numeric",pattern:"\\d*",className:"number-input w-full max-w-60 mx-auto px-3 py-2 rounded-lg border bg-input-background text-foreground",placeholder:"۱۰٬۰۰۰٬۰۰۰",value:x(a(m)),onChange:n=>{h(a(n.target.value)),g("vat")}})}),e.jsx("td",{className:"py-3 px-2",children:e.jsx("input",{dir:"ltr",inputMode:"numeric",pattern:"\\d*",className:"number-input w-full max-w-60 mx-auto px-3 py-2 rounded-lg border bg-input-background text-foreground",placeholder:"۱۱۰٬۰۰۰٬۰۰۰",value:x(a(p)),onChange:n=>{b(a(n.target.value)),g("total")}})})]}),e.jsxs("tr",{className:"text-foreground",children:[e.jsx("td",{className:"py-3 px-2 font-medium",children:new Intl.NumberFormat("fa-IR").format(Math.round(N||0))}),e.jsx("td",{className:"py-3 px-2 font-medium",children:new Intl.NumberFormat("fa-IR").format(Math.round(j||0))}),e.jsx("td",{className:"py-3 px-2 font-semibold",children:new Intl.NumberFormat("fa-IR").format(Math.round(v||0))})]})]})]})}),e.jsxs("div",{className:"mt-4 rounded-lg border p-4 text-sm text-muted-foreground leading-7",children:["- اگر فقط «جمع کل» را دارید، همان را وارد کنید تا «فروش» و «ارزش افزوده» محاسبه شود.",e.jsx("br",{}),"- اگر فقط «ارزش افزوده» را دارید، آن را وارد کنید تا «فروش» و «جمع کل» به دست آید."]})]})]})}export{M as default};
