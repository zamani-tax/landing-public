import{r as x}from"./index.RH_Wq4ov.js";var m={exports:{}},h={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g;function k(){if(g)return h;g=1;var o=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,a,i){var c=null;if(i!==void 0&&(c=""+i),a.key!==void 0&&(c=""+a.key),"key"in a){i={};for(var d in a)d!=="key"&&(i[d]=a[d])}else i=a;return a=i.ref,{$$typeof:o,type:r,key:c,ref:a!==void 0?a:null,props:i}}return h.Fragment=n,h.jsx=l,h.jsxs=l,h}var j;function v(){return j||(j=1,m.exports=k()),m.exports}var t=v();function u(o=""){return String(o).trim().replace(/\u200c/g,"").replace(/[ي]/g,"ی").replace(/[ك]/g,"ک").replace(/[۰-۹]/g,n=>String("۰۱۲۳۴۵۶۷۸۹".indexOf(n))).toLowerCase()}function b(o){const n={};for(const l of Object.keys(o||{})){const r=l.trim(),a=o[l];n[r]=typeof a=="string"?a.trim():a}return n}function N(o){const n=b(o),l=Object.entries(n).map(([e,s])=>[u(e),e,s]),r=e=>{const s=l.find(([f])=>e.every(y=>f.includes(y)));return s?s[1]:null},a=r(["اینتاکد"])||r(["intacode"])||r(["کد","اینتا"])||r(["code"]),i=r(["شرح","فعالیت"])||r(["عنوان","فعالیت"])||r(["activity"])||r(["title"]),c=r(["سود","۱۴۰۲"])||r(["سود","1402"])||r(["profit","1402"]),d=r(["نسبت","سود","ناویژه"])||r(["نسبت","سود"])||r(["ضریب","سود"])||r(["margin"]),p=r(["نوع","شغل"])||r(["job","type"])||r(["شغل"])||r(["دسته"]);return{intacode:a?n[a]:"",title:i?n[i]:"",profit1402:c?n[c]:"",margin:d?n[d]:"",jobType:p?n[p]:"",__raw:n}}const w=()=>{const[o,n]=x.useState(""),[l,r]=x.useState([]),[a,i]=x.useState("");x.useEffect(()=>{fetch("/intacode.json").then(e=>{if(!e.ok)throw new Error("خطا در دریافت intacode.json");return e.json()}).then(e=>{let s=[];Array.isArray(e)?s=e:Array.isArray(e?.data)?s=e.data:typeof e=="object"&&(s=Object.values(e)),r(s),i("")}).catch(e=>{console.error(e),i("خطا در بارگذاری داده‌ها. مسیر /intacode.json را بررسی کنید.")})},[]);const c=x.useMemo(()=>l.map(N),[l]),d=x.useMemo(()=>{const e=u(o);return e.length<=1?[]:c.filter(s=>[u(s.intacode),u(s.title),u(s.profit1402),u(s.margin),u(s.jobType)].join(" ").includes(e)).slice(0,10)},[c,o]),p=e=>{n(e.target.value)};return t.jsxs("div",{className:"w-full max-w-3xl mx-auto",children:[t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"جستجو در «شرح فعالیت» یا «اینتاکد»…",value:o,onChange:p,className:"w-full border rounded-lg p-3 shadow-sm focus:outline-none focus:ring-2 focus:ring-[#B50000] dark:bg-[#0f172a] dark:text-gray-100 dark:border-gray-700",dir:"rtl","aria-label":"کادر جستجوی اینتاکد"}),a&&t.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:a})]}),o.trim().length>1&&t.jsx(t.Fragment,{children:d.length>0?t.jsxs("table",{className:"w-full mt-4 border border-gray-300 rounded-lg text-sm overflow-hidden dark:border-gray-700",children:[t.jsx("thead",{className:"bg-gray-200 dark:bg-gray-800",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-2 text-right",children:"اینتاکد"}),t.jsx("th",{className:"p-2 text-right",children:"شرح فعالیت"}),t.jsx("th",{className:"p-2 text-right",children:"نوع شغل"}),t.jsx("th",{className:"p-2 text-right",children:"سود فعالیت ۱۴۰۲"}),t.jsx("th",{className:"p-2 text-right",children:"نسبت سود ناویژه"})]})}),t.jsx("tbody",{className:"bg-white dark:bg-slate-900",children:d.map((e,s)=>t.jsxs("tr",{className:"border-t hover:bg-gray-50 dark:hover:bg-slate-800 dark:border-gray-700",children:[t.jsx("td",{className:"p-2",children:e.intacode||"—"}),t.jsx("td",{className:"p-2",children:e.title||"—"}),t.jsx("td",{className:"p-2",children:e.jobType||"—"}),t.jsx("td",{className:"p-2",children:e.profit1402||"—"}),t.jsx("td",{className:"p-2",children:e.margin||"—"})]},s))})]}):t.jsx("p",{className:"mt-4 text-sm text-gray-600 dark:text-gray-300",children:"هیچ موردی یافت نشد."})})]})};export{w as default};
